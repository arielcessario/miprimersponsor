(function(){var a=document.getElementsByTagName("script");var c=a[a.length-1].src;angular.module("miprimersponsor.ingreso",["ngRoute"]).config(["$routeProvider",function(d){}]).controller("IngresoController",b);b.$inject=["UserService","AcUtils","$location","UserVars","AppService"];function b(l,i,k,e,j){var f=this;f.login=o;f.loginFacebook=n;f.loginGoogle=h;f.nuevoUsuario=m;f.recuperarPassword=g;f.mail="";f.password="";f.loginPrev=d;function d(p){if(p.keyCode==13){o()}}if(l.getFromToken()!=false){k.path("/administracion")}function g(){if(!i.validateEmail(f.mail)){i.validations("mail","El mail es incorrecto");return}l.forgotPassword(f.mail,function(p){console.log(p)})}function m(){k.path("/nuevo_usuario")}function n(){l.loginFacebook(function(p){if(p==-1){k.path("/nuevo_usuario")}else{k.path("/administracion");j.broadcast()}})}function h(){l.loginGoogle(function(p){if(p==-1){k.path("/nuevo_usuario")}else{k.path("/administracion");j.broadcast()}})}function o(){var p=false;if(f.password.trim().length==0){i.validations("password","El password es obligatorio");p=true}if(!i.validateEmail(f.mail)){i.validations("mail","El mail es incorrecto");p=true}if(p){return}l.login(f.mail,f.password,1,function(q){k.path("/administracion");j.broadcast()})}}})();