(function(){angular.module("miPrimerSponsor",["oc.lazyLoad","ngRoute","ngAnimate","angular-storage","angular-jwt","duScroll","auth0","acUtils","acUsuarios","acProyectos","acUploads","acProgressBar","acContacts","acAnimate"]).config(["$routeProvider","authProvider",function(c,d){d.init({domain:"ac-desarrollos.auth0.com",clientID:"su5JUmdUk52EWhfK5xxZJtnw6W3IK9c1",loginUrl:"/ingreso"});c.otherwise("/main");c.when("/main",{templateUrl:"main/main.html",controller:"MainController",data:{requiresLogin:false},resolve:{loadMyCtrl:["$ocLazyLoad",function(e){return e.load("main/main.js")}]}});c.when("/administracion",{templateUrl:"administracion/administracion.html",controller:"AdministracionController",data:{requiresLogin:true},resolve:{loadMyCtrl:["$ocLazyLoad",function(e){return e.load("administracion/administracion.js")}]}});c.when("/nuevo_usuario",{templateUrl:"nuevo_usuario/nuevo_usuario.html",controller:"NuevoUsuarioController",data:{requiresLogin:false},resolve:{loadMyCtrl:["$ocLazyLoad",function(e){return e.load("nuevo_usuario/nuevo_usuario.js")}]}});c.when("/ingreso",{templateUrl:"ingreso/ingreso.html",controller:"IngresoController",data:{requiresLogin:false},resolve:{loadMyCtrl:["$ocLazyLoad",function(e){return e.load("ingreso/ingreso.js")}]}});c.when("/proyecto/:id",{templateUrl:"proyecto/proyecto.html",controller:"ProyectoController",data:{requiresLogin:false},resolve:{loadMyCtrl:["$ocLazyLoad",function(e){return e.load("proyecto/proyecto.js")}]}});c.when("/resultados/:type/:value",{templateUrl:"resultados/resultados.html",controller:"ResultadoController",data:{requiresLogin:false},resolve:{loadMyCtrl:["$ocLazyLoad",function(e){return e.load("resultados/resultados.js")}]}})}]).run(function(c,d,f,g,e){e.hookEvents();c.$on("$routeChangeStart",function(h,i){if(i&&i.data&&i.data.requiresLogin){if(!d.get(window.appName)){h.preventDefault();g.path("/ingreso")}}})}).controller("AppController",a).service("AppService",b);a.$inject=["UserService","$location","AppService","CategoryService","$timeout","$document","$scope","DonationService"];function a(l,k,j,g,e,i,n,h){var d=this;d.hideLoader=true;d.menu_mobile_open=false;d.user=l.getFromToken();d.isLogged=false;d.welcomeTo="";d.categorias=[];d.textProyecto="";d.logout=p;d.goToAnchor=c;d.filterByCategory=m;d.filterByText=o;d.donacionRapida=f;if(d.user!=false){d.isLogged=true;d.welcomeTo=d.user.data.nombre}g.get(function(q){d.categorias=q});j.listen(function(){d.user=l.getFromToken();if(d.user!=false){d.isLogged=true;d.welcomeTo=d.user.data.nombre}else{k.path("/ingreso");d.isLogged=false;d.welcomeTo="";d.user=false}});function c(q){k.path("/main");e(function(){var r=1000;var t=50;var s=angular.element(document.getElementById(q));i.scrollToElement(s,t,r)},20)}n.$watch("appCtrl.textProyecto",function(r,q){if(r!=q&&r!=undefined&&!j.vieneDeCat){o()}if(r==""&&!j.vieneDeCat){k.path("/main")}else{j.vieneDeCat=false}});function o(){k.path("/resultados/t/"+d.textProyecto)}function m(q){j.vieneDeCat=true;d.textProyecto="";k.path("/resultados/c/"+q)}function p(){l.logout(function(q){k.path("/ingreso");d.isLogged=false;d.welcomeTo="";d.user=false})}function f(r,s){if(!d.user){k.path("/ingreso");return}var q={proyecto_id:s,donador_id:d.user.data.id,valor:r};h.create(q,function(t){console.log(t)})}}b.$inject=["$rootScope"];function b(c){this.vieneDeCat=false;this.listen=function(d){c.$on("miprimersponsorradio",d)};this.broadcast=function(){c.$broadcast("miprimersponsorradio")}}})();WebFontConfig={google:{families:["Droid+Sans:400,700:latin"]}};(function(){var a=document.createElement("script");a.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";a.type="text/javascript";a.async="true";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();