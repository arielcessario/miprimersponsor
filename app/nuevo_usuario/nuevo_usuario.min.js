(function(){var a=document.getElementsByTagName("script");var c=a[a.length-1].src;angular.module("miprimersponsor.nuevoUsuario",["ngRoute"]).config(["$routeProvider",function(d){}]).controller("NuevoUsuarioController",b);b.$inject=["UserService","AcUtils","UserVars","$location","AppService"];function b(k,g,e,j,i){var f=this;f.usuario={cliente_id:-1,nombre:"",apellido:"",nro_doc:"",telefono:"",password:"",direccion:"",mail:"",rol_id:1,cbu:"",social_login:0};var d=document.getElementById("nombre");if(e.user_social.given_name!==undefined){f.usuario.nombre=e.user_social.given_name;f.usuario.apellido=e.user_social.family_name;f.usuario.mail=e.user_social.email;f.usuario.social_login=(e.user_social.user_id.indexOf("google")>-1)?1:2}f.saveUsuario=h;function h(){k.userExist(f.usuario.mail,function(l){if(l>0){g.showMessage("error","El usuario ya existe")}else{k.create(f.usuario,function(m){if(m>-1){if(f.usuario.social_login!==0){k.loginSocial(f.usuario,e.token_social,function(n){j.path("/administracion");i.broadcast()})}else{k.login(f.usuario.mail,f.usuario.password,1,function(n){j.path("/administracion");i.broadcast()})}}})}})}}})();